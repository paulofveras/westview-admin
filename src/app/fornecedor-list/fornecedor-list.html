<div class="table-container">
  
    <div class="table-header">
        <h2>Lista de Fornecedores</h2>
        <a *ngIf="authService.isFuncionario()" routerLink="/fornecedores/new" class="btn-primary">Adicionar Fornecedor</a>
    </div>

    <div class="search-row">
        <mat-form-field appearance="outline" class="search-field">
            <mat-label>Pesquisar por nome</mat-label>
            <input matInput [(ngModel)]="q" (keyup.enter)="pesquisar()" />
            <mat-icon matPrefix>search</mat-icon>
            <button *ngIf="q" mat-icon-button matSuffix aria-label="Limpar" (click)="q=''; pesquisar()">
                <mat-icon>close</mat-icon>
            </button>
        </mat-form-field>

        <button mat-raised-button color="primary" (click)="pesquisar()">
            <mat-icon>search</mat-icon>
            Pesquisar
        </button>
    </div>
  
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Nome Fantasia</th>
          <th>CNPJ</th>
          <th>Email</th>
          <th *ngIf="authService.isFuncionario()">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fornecedor of fornecedores">
          <td>{{ fornecedor.id }}</td>
          <td>{{ fornecedor.nome }}</td>
          <td>{{ fornecedor.nomeFantasia }}</td>
          <td>{{ fornecedor.cnpj }}</td>
          <td>{{ fornecedor.email }}</td>
          <td *ngIf="authService.isFuncionario()">
            <a [routerLink]="['/fornecedores/edit', fornecedor.id]" class="btn-sm btn-secondary">Editar</a>
            <button (click)="excluir(fornecedor)" class="btn-sm btn-danger">Excluir</button>
          </td>
        </tr>
      </tbody>
    </table>

    <mat-paginator
      [length]="length"
      [pageIndex]="page"
      [pageSize]="pageSize"
      [pageSizeOptions]="[10, 20, 50, 100]"
      (page)="paginar($event)">
    </mat-paginator>

</div>